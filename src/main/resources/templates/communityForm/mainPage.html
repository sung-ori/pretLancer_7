<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
                xmlns:sec="http://www.thymleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>board List</title>
</head>
<body>
    <header>
		<h1>[ Board List ]</h1>
	</header>

	<section>
		<div id="link">
			<a th:href="@{/board/writeForm}">글쓰기</a>
			<a th:href="@{/}">Home</a>
		</div>
		<div>
			<p>전체글 <span th:text="${navi.totalRecordsCount}"></span></p>
		</div>
		<table>
			<thead>
				<tr>
					<th>번호</th>
					<th>제목</th>
					<th>글쓴이</th>
					<th>조회수</th>
					<th>날짜</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="b : ${list}">
					<td th:text="${b.boardnum}"></td>
					<td><a th:text="${b.title}" th:href="@{/board/read(boardnum=${b.boardnum})}"></a> </td>
					<td th:text="${b.memberid}"></td>
					<td th:text="${b.hits}"></td>
					<td th:text="${b.inputdate}"></td>
				</tr>
			</tbody>
		</table>
	</div>
	<br>
	<br>
	<!-- 페이지 이동 링크 -->
	<a th:href="|javascript:pagingFormSubmit(${navi.currentPage - navi.pagePerGroup})|">◁◁</a>
	<a th:href="|javascript:pagingFormSubmit(${navi.currentPage - 1})|">◀</a> 
	<!-- for each로 출력 			타임리프의 객체/ 수열을 만들어냄. -->
	<span th:each="counter : ${#numbers.sequence(navi.startPageGroup, navi.endPageGroup)}"> 
		<th:block th:if="${counter == navi.currentPage}"><b></th:block>
			<a th:text="${counter}" th:href="|javascript:pagingFormSubmit(${counter})|"></a>&nbsp;
		<th:block th:if="${counter == navi.currentPage}"></b></th:block>
	</span>
	
	<a th:href="|javascript:pagingFormSubmit(${navi.currentPage + 1})|">▶</a> 
	<a th:href="|javascript:pagingFormSubmit(${navi.currentPage + navi.pagePerGroup})|">▷▷</a>
	<br><br>
	
	<div id="searchForm">
		<form id="pagingForm" th:action="@{/board/list}" method="get">
			<input type="hidden" name="page" id="page">
			<select id="type" name="type" >
													<!-- true or false  -->
				<option value="title" th:selected="${type} == 'title'">제목</option>
				<option value="contents" th:selected="${type} == 'contents'">본문</option>
				<option value="memberid" th:selected="${type} == 'memberid'">작성자ID</option>
				<option value="all" th:selected="${type} == 'all'">전체</option>
			</select>
			<input type="text" name="searchWord" style="width: 300px"th:value="${searchWord}">
			<input type="button" value="검색" onclick="pagingFormSubmit()">
		</form>️
	</div>
	</section>
</body>
</html>