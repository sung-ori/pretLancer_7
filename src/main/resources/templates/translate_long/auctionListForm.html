<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
                xmlns:sec="http://www.thymleaf.org/extras/spring-security" >
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <title>auctionList</title>
    <script>
        // let width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
        // let height = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;
        $(document).ready(function() {
            $(".btn").click(openAuctionInfo);

            function openAuctionInfo() {
                let width = window.screen.width;
                let height = window.screen.height;

                let openWidth = width/2;
                let openHeight = height/2;

                let top = height/4;
                let left = width/4;

                let requestnum =  $(this).attr("id");

                window.open("http://localhost:8888/pretLancer/long/readAuctionInfo?requestnum_l="+requestnum ,'경매 입찰 페이지', ' width='+openWidth+',height='+openHeight+', top='+top+', left='+left);
            }
            
        });
    </script>
</head>
<body>
    <div class="container">
        <h1>번역 경매 리스트</h1>
        <div class=" row container-fluid">

            <div th:each="auction, index : ${auctionList}" class="col-4 card">
                <img th:src="@{/img/paper.png}" class="card-img-top" style="height: 50%;" alt="임시 서류 이모티콘">
                <div class="card-body">
                    <h3>카테고리</h3>
                    <h5 class="card-title"  th:text="${auction.category}"></h5>
                    <h3>페이지 수</h3>
                    <h5 class="card-text"  th:text="${auction.commentpage}"></h5>
                    <h3>낙찰기한</h3>
                    <h5 class="card-text"  th:text="${auction.enddate}"></h5>
                    <h3>작업기한</h3>
                    <h5 class="card-text"  th:text="${auction.workdate}"></h5>
                    <h3>입찰금액</h3>
                    <h5 class="card-text"  > [[${auction.cash}]]</h5>

                    <a th:id="${auction.requestnum_l}" class="btn btn-primary"
                    th:if="${#authentication.name} != ${auction.memberid}" >입찰하러 가기</a>
                    <a th:id="${auction.requestnum_l}" class="btn btn-danger"
                    th:if="${#authentication.name} == ${auction.memberid}" >나의 경매</a>
                </div>
            
            </div>
        </div>
    </div>
</body>
</html>