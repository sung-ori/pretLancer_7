<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
		xmlns:sec="http://www.thymleaf.org/extras/spring-security">
		
<head>
<meta charset="UTF-8">
<title>My Page | 신개념 번역 플랫폼 프릿랜서</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
<script th:src="@{/js/snBarLoader.js}"></script>
<style>

	@font-face {
	    font-family: 'LINESeedKR-Bd';
	    src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_11-01@1.0/LINESeedKR-Bd.woff2') format('woff2');
	    font-weight: 700;
	    font-style: normal;
	}
		
	@font-face {
    font-family: 'MBC1961GulimM';
    src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2304-01@1.0/MBC1961GulimM.woff2') format('woff2');
    font-weight: normal;
    font-style: normal;
	}

	@font-face {
    font-family: 'Pretendard-Regular';
    src: url('https://cdn.jsdelivr.net/gh/Project-Noonnu/noonfonts_2107@1.1/Pretendard-Regular.woff') format('woff');
    font-weight: 400;
    font-style: normal;
	}
	
	@font-face {
    font-family: 'Pretendard-Bold';
    src: url('https://cdn.jsdelivr.net/gh/Project-Noonnu/noonfonts_2107@1.1/Pretendard-Bold.woff') format('woff');
    font-weight: 700;
    font-style: normal;
	}

	@font-face {
    font-family: 'Pretendard-Black';
    src: url('https://cdn.jsdelivr.net/gh/Project-Noonnu/noonfonts_2107@1.1/Pretendard-Black.woff') format('woff');
    font-weight: 900;
    font-style: normal;
	}
	
	* {
    font-family: 'Pretendard-Regular';
		color : #2C2E33;

	}
	
	h2{
		color : #2C2E33;
	} 
	
	th {
		font-weight : bold;
	}
	
	.info_table {
		width : 250px;
	
		margin-left:auto; 
    	margin-right:auto;
    	border-collapse: collapse;
    	border-spacing : 10px;
	}
	
	.info_tr {
		height : 40px;
		border-bottom : solid 1px #D8D8D8;
	}

	#title {
    font-family: 'Pretendard-Black';
		font-size : 45px;
		color : #2C2E33;
	} 

	#title2 {
    font-family: 'Pretendard-Black';
		font-size : 40px;
		color : #2C2E33;
	} 

	#title3 {
    font-family: 'Pretendard-Black';
		font-size : 35px;
		color : #2C2E33;
	} 

	#title4 {
    font-family: 'Pretendard-Black';
		font-size : 30px;
		color : #2C2E33;
	} 


	.title_{
    font-family: 'Pretendard-Bold';
		font-size : 20px;
		color : #2C2E33;
	} 

	.content{
    font-family: 'Pretendard-Regular';
		font-size : 15px;
		color : #D8D8D8;
	} 
	
	.information {
	overflow : hidden;
	text-align : center;
	vertical-align : middle;
	width : 1000px;
	height : 600px;
	}

	.outer_information {
		overflow : hidden;
	}
	
	.last {
	clear : both;
	}
	
	.information_content{
	float : left;
	width : 400px;
	height : 500px;
	margin-left : 50px;
	margin-rignt : 50px;
	text-align : center;
	vertical-align : middle;

	background-color : white;
	border : solid 1px #D8D8D8;
	border-radius : 5px;
    font-family: 'Pretendard-Regular';
	font-size : 15px;
	color : #D8D8D8;
	} 
	 	
	.input_translated{
		font-size : 18px;
		background-color : #F2F2F2;
		word-break : break-all;
		
	}
	
		/*div {
			background-color: #EFF0F0;
			border-radius : 5px;
	
		}*/
		
		.outer {
			width : 1000px;
			height : 600px;
			border-radius : 5px;
			
		
		}

		.comment_input {
		
			width : 900px;
			height : 100px;
			
			border : solid 2px #EFF0F0;
			border-radius : 5px;
		
		}
		
		.answer_input {
		
			width : 900px;
			height : 300px;
			
			border : solid 2px #EFF0F0;
			border-radius : 5px;
		
		}
		
		.submit_button{
		
			width : 100px;
			height : 35px;
			background-color:#2334DE;
			color : #FFFFFF;
			
			border : 0px;
			border-radius : 5px;
			
		}

		.button{
		
			width : 50px;
			height : 35px;
			background-color:#2334DE;
			color : #FFFFFF;
			
			border : 0px;
			border-radius : 5px;
			
		}
</style>
<script type="text/javascript">
	$(document).ready(function() {
		$('#changeNick').click(openwin);
		$('.changePhoto').click(openwin2);
		$('.changeProfile').click(openwin3);

		progress();
	});
	
	function openwin() {
		window.open('http://localhost:8888/pretLancer/my_page/changeNick','닉네임 수정', 'w, width=500, height=300, top=200, left=600');
	}

	function openwin2() {
		window.open('http://localhost:8888/pretLancer/my_page/changePhoto','프로필 사진 변경', 'w, width=500, height=300, top=200, left=600');
	}
	
    function openwin3() {
		let mid =  $(this).attr("id");
		window.open("http://localhost:8888/pretLancer/my_page/changeProfile?memberid="+mid ,'번역가 상세 프로필', ' width=500, height=800, top=200, left=600');
	}

 // 바에 게이지 채워줌.  "ability" 로 보내주세용
	function progress() {


		let ss =  parseInt($("#ss").val());
		let sf =  parseInt($("#sf").val());
		let sper = parseInt(((ss /(ss+sf))*100));
		if(isNaN(sper)){
			sper = 0;
		}

		let ms =  parseInt($("#ms").val()) ;
		let mf =  parseInt($("#mf").val());
		let mper = parseInt((ms /(ms+mf)) *100);
		if(isNaN(mper)){
			mper = 0;
		}
		let ps =  parseInt( $("#ps").val());
		let pf =  parseInt( $("#pf").val());
		let pper = parseInt((ps /(ps+pf)) *100);
		if(isNaN(pper)){
			pper = 0;
		}
		let es =  parseInt( $("#es").val());
		let ef =  parseInt( $("#ef").val());
		let eper = parseInt((es /(es+ef)) *100);
		if(isNaN(eper)){
			eper = 0;
		}
		

		$("#persb").attr("style","width :" +sper+"%");
		$("#pers").attr("aria-valuenow",sper);
		$("#persb").text(sper + "%");
		
		
		$("#permb").attr("style","width :" +mper+"%");
		$("#perm").attr("aria-valuenow",mper);
		$("#permb").text(mper + "%");
			
		$("#perpb").attr("style","width :" +pper+"%");
		$("#perp").attr("aria-valuenow",pper);
		$("#perpb").text(pper + "%");
			
		$("#pereb").attr("style","width :" +eper+"%");
		$("#pere").attr("aria-valuenow",eper);
		$("#pereb").text(eper + "%");
			
		
		
	}



</script>
 <!-- 부트스트랩 5.3.1 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- upper bar css 쓰면 왼쪽 사이드바가 작아진다. (부과효과인듯) -->
    <link rel="stylesheet" th:href="@{/assets/css/pages/upperBar.css}">
    <!-- 기본 부트스트랩 링크들 -->
    <link rel="stylesheet" th:href="@{/assets/css/main/app.css}">
    <link rel="stylesheet" th:href="@{/assets/css/main/app-dark.css}">
    <link rel="shortcut icon" th:href="@{/assets/images/logo/favicon.svg}" type="image/x-icon">
    <link rel="shortcut icon" th:href="@{/assets/images/logo/favicon.png}" type="image/png">
    
	<link rel="stylesheet" th:href="@{/assets/css/shared/iconly.css}">
	<!-- 준규상 코드 -->
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script th:src="@{/js/snBarLoader.js}"></script>
	<style>
    	.move-right-50 {transform: translateX(300px);}
		.custom-width {width: 1100px;}
		.b {font-weight: bold;}
    </style>

</head>
<body>
	<div id="snBar-placeholder"></div>
	<br><br><br><br>

	 <div id="main">
	            <header class="mb-3">
	                <a href="#" class="burger-btn d-block d-xl-none">
	                    <i class="bi bi-justify fs-3"></i>
	                </a>
	            </header>
	            
	<div class="page-heading">
	    <h1 id = "title2">마이페이지</h1>
	    <h6 class = "title_">프로필 확인 및 수정, 지금까지의 번역 요청 및 작업 내역을 확인할 수 있습니다.</h6>
	    <br>
	    <table class = "content" style = "border-collapse: separate; text-align : center;">
	    	<tr>
			    <td><b><a th:href = "@{/my_page/main}">내 정보&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></b></td>		
			    <td><a th:href = "@{/my_page/myRequestList_S}">내가 요청한 번역 내역&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></td>		
			    <td><a th:href = "@{/my_page/requestToMe_S}">내가 맡은 번역 리스트</a></td>
	    	</tr>
	    </table>
	    <hr>
	</div>

	<div class = "information">
		
		<br>
		
		<!-- 개인정보가 출력되는 영역 -->
		<div class = "information_content">
			<br>
			<span class = "title_" style = "margin-top : 10px; margin-bottom : 10px">내 정보</span>
			<!-- 000 님의 마이페이지가 출력되는 영역 -->
			<p><img th:if="${mypage.originphoto}" th:src="@{/my_page/getPhoto(memberid=${mypage.memberid})}" style="border-radius : 70% ; width: 100px; height : 100px;"></p>
			<p style = "font-size : 15px; cursor : pointer; color : #2334DE;" class = "changePhoto">프로필 사진 변경</p>		
			<p style = "font-size : 15px; cursor : pointer; color : #2334DE;" class = "changeProfile" th:id="${mypage.memberid}">내 번역가 프로필 보기</p>
			<table class = "info_table">
				<tr class = "info_tr">
					<th>아이디</th>		<td><span th:text = "${mypage.memberid}">아이디 default</span></td>
				</tr>
				<tr class = "info_tr">		
					<th>이름</th>		<td><span th:text = "${mypage.membername}">이름 default</span></td>	
				</tr>
				<tr class = "info_tr">	
					<th>닉네임</th>		<td><span th:text = "${mypage.membernick}">닉네임 default</span>&nbsp;&nbsp;<input type = "button" value = "수정" class = "button" id = "changeNick"> </td>
				</tr>
				<tr class = "info_tr">
					<th>레벨</th>			<td><span th:text = "${mypage.mem_level}">레벨 default</span></td>
				</tr>
				<tr class = "info_tr">
					<th>경험치</th>		<td><span th:text = "${mypage.mem_ex}">경험치 default</span></td>
				</tr>
				<tr style = "height : 40px;">
					<th>언어</th>			<td><span th:text = "${mypage.memberlang}">언어 default</span></td>
				</tr>
			</table>
		</div>
		<!-- 게이지바  -->

		<div class = "information_content">
			<input type="hidden" id="ps" th:value="${ability.psucceed}">
			<input type="hidden" id="pf" th:value="${ability.pfailed}">

			<input type="hidden" id="ss" th:value="${ability.ssucceed}">
			<input type="hidden" id="sf" th:value="${ability.sfailed}">

			<input type="hidden" id="ms" th:value="${ability.msucceed}">
			<input type="hidden" id="mf" th:value="${ability.mfailed}">

			<input type="hidden" id="es" th:value="${ability.esucceed}">
			<input type="hidden" id="ef" th:value="${ability.efailed}">
			<br>
			<div>
				<span class = "title_">내 번역 성공률</span>
			</div>
			<br>
			<div>
				<p>지금까지의 번역, 평가의 성공률을 볼 수 있습니다. <br>
					더 많이 번역하고, 등급을 올려 더 긴 번역에 도전해보세요. <br>
					더 많은 경험치와 캐시를 얻을 수 있습니다.
				</p>
			</div>
			<br>
			<div>
				단문 성공률 (총 <span th:text = "${ability.ssucceed} + ${ability.sfailed}"></span>건 중 <span th:text = "${ability.ssucceed}"></span>건 성공)
			</div>
			<div class="progress mx-4" role="progressbar" id="pers"  aria-valuemin="0" aria-valuemax="100" style = "height : 20px;">
				<div class="progress-bar bg-success" id="persb" ></div>
			</div>
			<br>
			
			<div>
				중문 성공률 (총 <span th:text = "${ability.msucceed} + ${ability.mfailed}"></span>건 중 <span th:text = "${ability.msucceed}"></span>건 성공)
			</div>
			<div class="progress mx-4" role="progressbar" id="perm"  aria-valuemin="0" aria-valuemax="100" style = "height : 20px;">
				<div class="progress-bar bg-success" id="permb" ></div>
			</div>
			<br>
			
			<div>
				연습 성공률 (총 <span th:text = "${ability.psucceed} + ${ability.pfailed}"></span>건 중 <span th:text = "${ability.psucceed}"></span>건 성공)
			</div>
			<div class="progress mx-4" role="progressbar" id="perp"  aria-valuemin="0" aria-valuemax="100" style = "height : 20px;">
				<div class="progress-bar bg-success" id="perpb" ></div>
			</div>
			<br>
			
			<div>
				평가 성공률 (총 <span th:text = "${ability.esucceed} + ${ability.efailed}"></span>건 중 <span th:text = "${ability.esucceed}"></span>건 성공)
			</div>
			<div class="progress mx-4" role="progressbar" id="pere"  aria-valuemin="0" aria-valuemax="100" style = "height : 20px;">
				<div class="progress-bar bg-success" id="pereb" ></div>
			</div>
		</div>
		
		</div>

	 <!-- <div id="main"> -->
	</div>
     <!-- 부트스트랩  JS -->
    <script th:src="@{/assets/js/bootstrap.js}"></script>
    <script th:src="@{/assets/js/app.js}"></script>
    
<!-- Need: Apexcharts -->
<script th:src="@{/assets/extensions/apexcharts/apexcharts.min.js}"></script>
<script th:src="@{/assets/js/pages/dashboard.js}"></script>
</body>
</html>