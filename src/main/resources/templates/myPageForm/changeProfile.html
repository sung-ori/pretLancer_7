<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
		xmlns:sec="http://www.thymleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <title>번역가 상세 프로필</title>
    <script>
        
        $(document).ready(function() {
            progress();

        });

        function progress() {

        	let ss =  parseInt($("#ss").val());
    		let sf =  parseInt($("#sf").val());
    		let sper = parseInt(((ss /(ss+sf))*100));
    		if(isNaN(sper)){
    			sper = 0;
    		}

    		let ms =  parseInt($("#ms").val()) ;
    		let mf =  parseInt($("#mf").val());
    		let mper = parseInt((ms /(ms+mf)) *100);
    		if(isNaN(mper)){
    			mper = 0;
    		}
    		let ps =  parseInt( $("#ps").val());
    		let pf =  parseInt( $("#pf").val());
    		let pper = parseInt((ps /(ps+pf)) *100);
    		if(isNaN(pper)){
    			pper = 0;
    		}
    		let es =  parseInt( $("#es").val());
    		let ef =  parseInt( $("#ef").val());
    		let eper = parseInt((es /(es+ef)) *100);
    		if(isNaN(eper)){
    			eper = 0;
    		}
		
		
		$("#persb").attr("style","width :" +sper+"%");
		$("#pers").attr("aria-valuenow",sper);
		$("#persb").text(sper + "%");
		
		
		$("#permb").attr("style","width :" +mper+"%");
		$("#perm").attr("aria-valuenow",mper);
		$("#permb").text(mper + "%");
		    
		$("#perpb").attr("style","width :" +pper+"%");
		$("#perp").attr("aria-valuenow",pper);
		$("#perpb").text(pper + "%");
		    
		$("#pereb").attr("style","width :" +eper+"%");
		$("#pere").attr("aria-valuenow",eper);
		$("#pereb").text(eper + "%");

		}
    </script>
    
     <!-- 부트스트랩 5.3.1 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- upper bar css 쓰면 왼쪽 사이드바가 작아진다. (부과효과인듯) -->
    <link rel="stylesheet" th:href="@{/assets/css/pages/upperBar.css}">
    <!-- 기본 부트스트랩 링크들 -->
    <link rel="stylesheet" th:href="@{/assets/css/main/app.css}">
    <link rel="stylesheet" th:href="@{/assets/css/main/app-dark.css}">
    <link rel="shortcut icon" th:href="@{/assets/images/logo/favicon.svg}" type="image/x-icon">
    <link rel="shortcut icon" th:href="@{/assets/images/logo/favicon.png}" type="image/png">
    
	<link rel="stylesheet" th:href="@{/assets/css/shared/iconly.css}">
	<!-- 준규상 코드 -->
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script th:src="@{/js/snBarLoader.js}"></script>
	<style>
    	.move-right-50 {transform: translateX(300px);}
		.custom-width {width: 1100px;}
		.b {font-weight: bold;}
    	.answer_input {
			width : 300px;
			height : 100px;
			
			border : solid 2px #EFF0F0;
			border-radius : 5px;
		}
    </style>
</head>
<body>

 <div id="main">


    <!-- 번역가의 상세 프로필 -->
    <div class="container">
        <input type="hidden" id="loginId" th:value="${loginId}">
        <input type="hidden" id="translatorId" th:value="${tp.memberid}">
        <div class="card col-12">
            <p><img th:if="${tp.originphoto}" th:src="@{/my_page/getPhoto(memberid=${tp.memberid})}" style="width: 70%; height: 0%;"></p>
            <div class="card-body">
                <h5 class="card-title" th:text="${tp.membername}">Card title</h5>
                <p class="card-text" th:text="${tp.profilecomment}">프로필 멘트</p>
                <form th:action="@{/my_page/changeProfile}" method="post">
					<input type="hidden" name="memberid" th:value="${tp.memberid}">
					<textarea name = "profilecomment" class = "answer_input" id ="profilecomment" placeholder = "수정할 프로필 멘트를 입력해주세요"></textarea>
                	<br><input type="submit" class="btn btn-primary" value="프로필 멘트 수정">
				</form>		
            </div>
        </div>
    </div>
    
    	<!-- 게이지바  -->

		
			
		<div >
			<input type="hidden" id="ps" th:value="${ability.psucceed}">
			<input type="hidden" id="pf" th:value="${ability.pfailed}">
			<input type="hidden" id="ss" th:value="${ability.ssucceed}">
			<input type="hidden" id="sf" th:value="${ability.sfailed}">
			<input type="hidden" id="ms" th:value="${ability.msucceed}">
			<input type="hidden" id="mf" th:value="${ability.mfailed}">
			<input type="hidden" id="es" th:value="${ability.esucceed}">
			<input type="hidden" id="ef" th:value="${ability.efailed}">
			
			<div>
				단문 성공률
			</div>
			<div class="progress" role="progressbar" id="pers"  aria-valuemin="0" aria-valuemax="100">
				<div class="progress-bar bg-success" id="persb" ></div>
			</div>
			<div>
				중문 성공률
			</div>
			<div class="progress" role="progressbar" id="perm"  aria-valuemin="0" aria-valuemax="100">
				<div class="progress-bar bg-success" id="permb" ></div>
			</div>
			<div>
				연습 성공률
			</div>
			<div class="progress" role="progressbar" id="perp"  aria-valuemin="0" aria-valuemax="100">
				<div class="progress-bar bg-success" id="perpb" ></div>
			</div>
			<div>
				평가 성공률
			</div>
			<div class="progress" role="progressbar" id="pere"  aria-valuemin="0" aria-valuemax="100">
				<div class="progress-bar bg-success" id="pereb" ></div>
			</div>
		</div>

		

    <!-- <div id="main"> -->
	</div> 
     <!-- 부트스트랩  JS -->
    <script th:src="@{/assets/js/bootstrap.js}"></script>
    <script th:src="@{/assets/js/app.js}"></script>
    
<!-- Need: Apexcharts -->
<script th:src="@{/assets/extensions/apexcharts/apexcharts.min.js}"></script>
<script th:src="@{/assets/js/pages/dashboard.js}"></script>
</body>
</html>