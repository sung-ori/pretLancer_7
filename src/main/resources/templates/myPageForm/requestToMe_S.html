<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
		xmlns:sec="http://www.thymleaf.org/extras/spring-security">
		
<head>
<meta charset="UTF-8">
<title>My Page | 신개념 번역 플랫폼 프릿랜서</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
<script th:src="@{/js/snBarLoader.js}"></script>
<style>

	@font-face {
	    font-family: 'LINESeedKR-Bd';
	    src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_11-01@1.0/LINESeedKR-Bd.woff2') format('woff2');
	    font-weight: 700;
	    font-style: normal;
	}
		
	@font-face {
    font-family: 'MBC1961GulimM';
    src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2304-01@1.0/MBC1961GulimM.woff2') format('woff2');
    font-weight: normal;
    font-style: normal;
	}

	@font-face {
    font-family: 'Pretendard-Regular';
    src: url('https://cdn.jsdelivr.net/gh/Project-Noonnu/noonfonts_2107@1.1/Pretendard-Regular.woff') format('woff');
    font-weight: 400;
    font-style: normal;
	}
	
	@font-face {
    font-family: 'Pretendard-Bold';
    src: url('https://cdn.jsdelivr.net/gh/Project-Noonnu/noonfonts_2107@1.1/Pretendard-Bold.woff') format('woff');
    font-weight: 700;
    font-style: normal;
	}

	@font-face {
    font-family: 'Pretendard-Black';
    src: url('https://cdn.jsdelivr.net/gh/Project-Noonnu/noonfonts_2107@1.1/Pretendard-Black.woff') format('woff');
    font-weight: 900;
    font-style: normal;
	}
	
	* {
    font-family: 'Pretendard-Regular';
		color : #2C2E33;

	}
	
	h2{
		color : #2C2E33;
	} 
	
	th {
		font-weight : bold;
	}
	
	.info_table {
		width : 250px;
	
		margin-left:auto; 
    	margin-right:auto;
    	border-collapse: collapse;
    	border-spacing : 10px;
	}
	
	.info_tr {
		height : 40px;
		border-bottom : solid 1px #D8D8D8;
	}

	#title {
    font-family: 'Pretendard-Black';
		font-size : 45px;
		color : #2C2E33;
	} 

	#title2 {
    font-family: 'Pretendard-Black';
		font-size : 40px;
		color : #2C2E33;
	} 

	#title3 {
    font-family: 'Pretendard-Black';
		font-size : 35px;
		color : #2C2E33;
	} 

	#title4 {
    font-family: 'Pretendard-Black';
		font-size : 30px;
		color : #2C2E33;
	} 


	#title_{
    font-family: 'Pretendard-Bold';
		font-size : 20px;
		color : #2C2E33;
	} 

	.content{
    font-family: 'Pretendard-Regular';
		font-size : 15px;
		color : #D8D8D8;
	} 
	
	.information {
	text-align : center;
	vertical-align : middle;
	background-color : white;
	border : solid 1px #D8D8D8;
	border-radius : 5px;
	width : 800px;
	height : 500px;
	}

	.information_content{
    font-family: 'Pretendard-Regular';
		font-size : 15px;
		color : #D8D8D8;
	} 
	 	
	.input_translated{
		font-size : 18px;
		background-color : #F2F2F2;
		word-break : break-all;
		
	}
	
		/*div {
			background-color: #EFF0F0;
			border-radius : 5px;
	
		}*/
		
		.outer {
			width : 1000px;
			height : 600px;
			border-radius : 5px;
			
		
		}

		.comment_input {
		
			width : 900px;
			height : 100px;
			
			border : solid 2px #EFF0F0;
			border-radius : 5px;
		
		}
		
		.answer_input {
		
			width : 900px;
			height : 300px;
			
			border : solid 2px #EFF0F0;
			border-radius : 5px;
		
		}
		
		.submit_button{
		
			width : 100px;
			height : 35px;
			background-color:#2334DE;
			color : #FFFFFF;
			
			border : 0px;
			border-radius : 5px;
			
		}

		.exit_button{
		
			width : 100px;
			height : 35px;
			background-color:#F2F2F2;
			color : #2C2E33;
			
			border : 0px;
			border-radius : 5px;
			
		}

		table {
		table-layout : fixed;
		}
		
		.title {
		cursor : pointer;
		width : 500px;
		white-space : nowrap;
		overflow : hidden;
		text-overflow : ellipsis;
        background-color: #ffffff;
        background-color: rgba( 255, 255, 255, 0.5 );
		text-align : center;		
		text-decoration : underline;	
		}
		
		.my_translate {
		width : 500px;
		white-space : nowrap;
		overflow : hidden;
		text-overflow : ellipsis;
        background-color: #ffffff;
        background-color: rgba( 255, 255, 255, 0.5 );
		text-align : center;		
		}
		
</style>
<script type="text/javascript">
$(document).ready(function() {
    $(".title").click(openResult);

    function openResult() {
        let width = window.screen.width;
        let height = window.screen.height;

        let openWidth = width/2;
        let openHeight = height/2;

        let top = height/4;
        let left = width/4;

        let requestnum =  $(this).attr("id");
        let condition = $(this).attr("value");
        
        
        //condition == 'Y'로 바꿔놓을 것 || condition == 'E'
        if (condition == 'Y')
	        window.open("http://localhost:8888/pretLancer/my_page/readResultRequest_S?requestnum_s="+requestnum ,'번역 결과 받기', ' width='+openWidth+',height='+openHeight+', top='+top+', left='+left);
        else if (condition == 'E')
        	alert('평가가 최종적으로 완료되야 결과 확인이 가능합니다.');
        else 
        	window.open("http://localhost:8888/pretLancer/my_page/readResultRequest_S?requestnum_s="+requestnum ,'번역 결과 받기', ' width='+openWidth+',height='+openHeight+', top='+top+', left='+left);
    }
});	
	  
	
</script>
 <!-- 부트스트랩 5.3.1 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- upper bar css 쓰면 왼쪽 사이드바가 작아진다. (부과효과인듯) -->
    <link rel="stylesheet" th:href="@{/assets/css/pages/upperBar.css}">
    <!-- 기본 부트스트랩 링크들 -->
    <link rel="stylesheet" th:href="@{/assets/css/main/app.css}">
    <link rel="stylesheet" th:href="@{/assets/css/main/app-dark.css}">
    <link rel="shortcut icon" th:href="@{/assets/images/logo/favicon.svg}" type="image/x-icon">
    <link rel="shortcut icon" th:href="@{/assets/images/logo/favicon.png}" type="image/png">
    
	<link rel="stylesheet" th:href="@{/assets/css/shared/iconly.css}">
	<!-- 준규상 코드 -->
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script th:src="@{/js/snBarLoader.js}"></script>
	<style>
    	.move-right-50 {transform: translateX(300px);}
		.custom-width {width: 1100px;}
		.b {font-weight: bold;}
    </style>

</head>
<body>
	<div id="snBar-placeholder"></div>
	<br><br><br><br>

	 <div id="main">
	            <header class="mb-3">
	                <a href="#" class="burger-btn d-block d-xl-none">
	                    <i class="bi bi-justify fs-3"></i>
	                </a>
	            </header>
	            
	<div class="page-heading">
	    <h1 id = "title2">마이페이지</h1>
	    <h6 id = "title_">프로필 확인 및 수정, 지금까지의 번역 요청 및 작업 내역을 확인할 수 있습니다.</h6>
	    <br>
	    <table class = "content" style = "border-collapse: separate; text-align : center;">
	    	<tr>
			    <td><a th:href = "@{/my_page/main}">내 정보&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></td>		
			    <td><a th:href = "@{/my_page/myRequestList_S}">내가 요청한 번역 내역&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></td>		
			    <td><b><a th:href = "@{/my_page/requestToMe_S}">내가 맡은 번역 리스트</a></b></td>
	    	</tr>
	    </table>
	    <hr>
	    <table class = "content" style = "border-collapse: separate; text-align : center;">
	    	<tr>
			    <td><b><a th:href = "@{/my_page/requestToMe_S}">단문&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></b></td>		
			    <td><a th:href = "@{/my_page/requestToMe_M}">중문&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></td>		
			    <td><a th:href = "@{/my_page/requestToMe_L}">장문</a></td>
	    	</tr>
	    </table>
	    
	</div>

    <div class="information">
      <table class="table table-striped">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">의뢰 내용</th>
            <th scope="col">내 번역</th>
            <th scope="col">상태</th>
          </tr>
        </thead>
        <tbody>
          <tr th:each="request, index : ${list}">
            <th scope="row" th:text="${index.count}"></th>

            <td th:text="${request.requestcontent_s}" class = "title" style = "cursor : pointer;" th:id = "${request.requestnum_s}" th:value="${request.requestcondition_s}">의뢰 내용</td>

            <td th:text="${request.translatedcontent_s}" class = "my_translate">내 번역</td>

            <!-- 버튼 -->
            <td>
              <input th:if="${request.requestcondition_s} == 'E'" type="button"  class="btn btn-primary btn-sm" th:id="${request.requestnum_s}" value="평가 중">
              <input th:if="${request.requestcondition_s} == 'Y' " type="button"  class="btn btn-success btn-sm" th:id="${request.requestnum_s}" disabled="true" value="번역 완료">
              <input th:unless="${request.requestcondition_s == 'E' or request.requestcondition_s == 'Y'}" type="button"  class="btn btn-warning btn-sm" th:id="${request.requestnum_s}" value="평가 탈락">
            </td>

          </tr>
        </tbody>
      </table>
    </div>

			
 <!-- <div id="main"> -->
	</div>
     <!-- 부트스트랩  JS -->
    <script th:src="@{/assets/js/bootstrap.js}"></script>
    <script th:src="@{/assets/js/app.js}"></script>
    
<!-- Need: Apexcharts -->
<script th:src="@{/assets/extensions/apexcharts/apexcharts.min.js}"></script>
<script th:src="@{/assets/js/pages/dashboard.js}"></script>
</body>
</html>